{"version":3,"file":"index.esm.js","sources":["../src/index.ts"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\n\ninterface UseSpeechReaderOptions {\n  voice?: SpeechSynthesisVoice;\n  rate?: number;\n  pitch?: number;\n  volume?: number;\n}\n\ninterface UseSpeechReaderReturn {\n  speak: (text: string) => void;\n  pause: () => void;\n  resume: () => void;\n  stop: () => void;\n  speaking: boolean;\n  supported: boolean;\n  voices: SpeechSynthesisVoice[];\n}\n\nexport const useSpeechReader = ({\n  voice,\n  rate = 1,\n  pitch = 1,\n  volume = 1,\n}: UseSpeechReaderOptions = {}): UseSpeechReaderReturn => {\n  const [speaking, setSpeaking] = useState(false);\n  const [voices, setVoices] = useState<SpeechSynthesisVoice[]>([]);\n  const supported = typeof window !== 'undefined' && 'speechSynthesis' in window;\n\n  useEffect(() => {\n    if (!supported) return;\n\n    const updateVoices = () => {\n      setVoices(window.speechSynthesis.getVoices());\n    };\n\n    // Get initial voices\n    updateVoices();\n\n    // Listen for voice changes\n    window.speechSynthesis.onvoiceschanged = updateVoices;\n\n    return () => {\n      window.speechSynthesis.onvoiceschanged = null;\n    };\n  }, [supported]);\n\n  const speak = useCallback((text: string) => {\n    if (!supported) return;\n\n    // Cancel any ongoing speech\n    window.speechSynthesis.cancel();\n\n    const utterance = new SpeechSynthesisUtterance(text);\n    \n    if (voice) utterance.voice = voice;\n    utterance.rate = rate;\n    utterance.pitch = pitch;\n    utterance.volume = volume;\n\n    utterance.onstart = () => setSpeaking(true);\n    utterance.onend = () => setSpeaking(false);\n    utterance.onerror = () => setSpeaking(false);\n\n    window.speechSynthesis.speak(utterance);\n  }, [supported, voice, rate, pitch, volume]);\n\n  const pause = useCallback(() => {\n    if (!supported) return;\n    window.speechSynthesis.pause();\n  }, [supported]);\n\n  const resume = useCallback(() => {\n    if (!supported) return;\n    window.speechSynthesis.resume();\n  }, [supported]);\n\n  const stop = useCallback(() => {\n    if (!supported) return;\n    window.speechSynthesis.cancel();\n    setSpeaking(false);\n  }, [supported]);\n\n  return {\n    speak,\n    pause,\n    resume,\n    stop,\n    speaking,\n    supported,\n    voices,\n  };\n}; "],"names":[],"mappings":"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"}