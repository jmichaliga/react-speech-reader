{"code":"import { useCallback, useEffect, useState } from 'react';\r\nexport var useSpeechReader = function (_a) {\r\n    var _b = _a === void 0 ? {} : _a, voice = _b.voice, _c = _b.rate, rate = _c === void 0 ? 1 : _c, _d = _b.pitch, pitch = _d === void 0 ? 1 : _d, _e = _b.volume, volume = _e === void 0 ? 1 : _e;\r\n    var _f = useState(false), speaking = _f[0], setSpeaking = _f[1];\r\n    var _g = useState([]), voices = _g[0], setVoices = _g[1];\r\n    var supported = typeof window !== 'undefined' && 'speechSynthesis' in window;\r\n    useEffect(function () {\r\n        if (!supported)\r\n            return;\r\n        var updateVoices = function () {\r\n            setVoices(window.speechSynthesis.getVoices());\r\n        };\r\n        // Get initial voices\r\n        updateVoices();\r\n        // Listen for voice changes\r\n        window.speechSynthesis.onvoiceschanged = updateVoices;\r\n        return function () {\r\n            window.speechSynthesis.onvoiceschanged = null;\r\n        };\r\n    }, [supported]);\r\n    var speak = useCallback(function (text) {\r\n        if (!supported)\r\n            return;\r\n        // Cancel any ongoing speech\r\n        window.speechSynthesis.cancel();\r\n        var utterance = new SpeechSynthesisUtterance(text);\r\n        if (voice)\r\n            utterance.voice = voice;\r\n        utterance.rate = rate;\r\n        utterance.pitch = pitch;\r\n        utterance.volume = volume;\r\n        utterance.onstart = function () { return setSpeaking(true); };\r\n        utterance.onend = function () { return setSpeaking(false); };\r\n        utterance.onerror = function () { return setSpeaking(false); };\r\n        window.speechSynthesis.speak(utterance);\r\n    }, [supported, voice, rate, pitch, volume]);\r\n    var pause = useCallback(function () {\r\n        if (!supported)\r\n            return;\r\n        window.speechSynthesis.pause();\r\n    }, [supported]);\r\n    var resume = useCallback(function () {\r\n        if (!supported)\r\n            return;\r\n        window.speechSynthesis.resume();\r\n    }, [supported]);\r\n    var stop = useCallback(function () {\r\n        if (!supported)\r\n            return;\r\n        window.speechSynthesis.cancel();\r\n        setSpeaking(false);\r\n    }, [supported]);\r\n    return {\r\n        speak: speak,\r\n        pause: pause,\r\n        resume: resume,\r\n        stop: stop,\r\n        speaking: speaking,\r\n        supported: supported,\r\n        voices: voices,\r\n    };\r\n};\r\n//# sourceMappingURL=index.js.map","references":["/Users/justinmichaliga/Software/react-speech-reader/node_modules/@types/react/index.d.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/index.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAmBzD,MAAM,CAAC,IAAM,eAAe,GAAG,UAAC,EAKF;QALE,qBAKJ,EAAE,KAAA,EAJ5B,KAAK,WAAA,EACL,YAAQ,EAAR,IAAI,mBAAG,CAAC,KAAA,EACR,aAAS,EAAT,KAAK,mBAAG,CAAC,KAAA,EACT,cAAU,EAAV,MAAM,mBAAG,CAAC,KAAA;IAEJ,IAAA,KAA0B,QAAQ,CAAC,KAAK,CAAC,EAAxC,QAAQ,QAAA,EAAE,WAAW,QAAmB,CAAC;IAC1C,IAAA,KAAsB,QAAQ,CAAyB,EAAE,CAAC,EAAzD,MAAM,QAAA,EAAE,SAAS,QAAwC,CAAC;IACjE,IAAM,SAAS,GAAG,OAAO,MAAM,KAAK,WAAW,IAAI,iBAAiB,IAAI,MAAM,CAAC;IAE/E,SAAS,CAAC;QACR,IAAI,CAAC,SAAS;YAAE,OAAO;QAEvB,IAAM,YAAY,GAAG;YACnB,SAAS,CAAC,MAAM,CAAC,eAAe,CAAC,SAAS,EAAE,CAAC,CAAC;QAChD,CAAC,CAAC;QAEF,qBAAqB;QACrB,YAAY,EAAE,CAAC;QAEf,2BAA2B;QAC3B,MAAM,CAAC,eAAe,CAAC,eAAe,GAAG,YAAY,CAAC;QAEtD,OAAO;YACL,MAAM,CAAC,eAAe,CAAC,eAAe,GAAG,IAAI,CAAC;QAChD,CAAC,CAAC;IACJ,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;IAEhB,IAAM,KAAK,GAAG,WAAW,CAAC,UAAC,IAAY;QACrC,IAAI,CAAC,SAAS;YAAE,OAAO;QAEvB,4BAA4B;QAC5B,MAAM,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;QAEhC,IAAM,SAAS,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,CAAC;QAErD,IAAI,KAAK;YAAE,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;QACnC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;QACtB,SAAS,CAAC,KAAK,GAAG,KAAK,CAAC;QACxB,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC;QAE1B,SAAS,CAAC,OAAO,GAAG,cAAM,OAAA,WAAW,CAAC,IAAI,CAAC,EAAjB,CAAiB,CAAC;QAC5C,SAAS,CAAC,KAAK,GAAG,cAAM,OAAA,WAAW,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAAC;QAC3C,SAAS,CAAC,OAAO,GAAG,cAAM,OAAA,WAAW,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAAC;QAE7C,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IAC1C,CAAC,EAAE,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;IAE5C,IAAM,KAAK,GAAG,WAAW,CAAC;QACxB,IAAI,CAAC,SAAS;YAAE,OAAO;QACvB,MAAM,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;IACjC,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;IAEhB,IAAM,MAAM,GAAG,WAAW,CAAC;QACzB,IAAI,CAAC,SAAS;YAAE,OAAO;QACvB,MAAM,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;IAClC,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;IAEhB,IAAM,IAAI,GAAG,WAAW,CAAC;QACvB,IAAI,CAAC,SAAS;YAAE,OAAO;QACvB,MAAM,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;QAChC,WAAW,CAAC,KAAK,CAAC,CAAC;IACrB,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;IAEhB,OAAO;QACL,KAAK,OAAA;QACL,KAAK,OAAA;QACL,MAAM,QAAA;QACN,IAAI,MAAA;QACJ,QAAQ,UAAA;QACR,SAAS,WAAA;QACT,MAAM,QAAA;KACP,CAAC;AACJ,CAAC,CAAC\"}","dts":{"name":"/Users/justinmichaliga/Software/react-speech-reader/node_modules/.cache/rollup-plugin-typescript2/placeholder/index.d.ts","writeByteOrderMark":false,"text":"interface UseSpeechReaderOptions {\r\n    voice?: SpeechSynthesisVoice;\r\n    rate?: number;\r\n    pitch?: number;\r\n    volume?: number;\r\n}\r\ninterface UseSpeechReaderReturn {\r\n    speak: (text: string) => void;\r\n    pause: () => void;\r\n    resume: () => void;\r\n    stop: () => void;\r\n    speaking: boolean;\r\n    supported: boolean;\r\n    voices: SpeechSynthesisVoice[];\r\n}\r\nexport declare const useSpeechReader: ({ voice, rate, pitch, volume, }?: UseSpeechReaderOptions) => UseSpeechReaderReturn;\r\nexport {};\r\n"}}
